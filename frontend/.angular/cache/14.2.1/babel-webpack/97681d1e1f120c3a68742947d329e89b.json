{"ast":null,"code":"import _asyncToGenerator from \"/home/benter/Entwicklung/workspace/todoApp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/todo.service\";\nexport class TodoComponent {\n  constructor(todoService) {\n    this.todoService = todoService;\n    this.deleteAction = new EventEmitter();\n  }\n\n  getFormattedDate(date) {\n    if (date) {\n      return new Date(date).toLocaleString();\n    }\n\n    return '-';\n  }\n\n  delete() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(_this.todo);\n\n      if (_this.todo.id) {\n        let deleted = yield _this.todoService.deleteTodo(_this.todo);\n        console.log(deleted);\n\n        if (deleted) {\n          _this.deleteAction.emit(_this.todo.id);\n        }\n      }\n    })();\n  }\n\n}\n\nTodoComponent.ɵfac = function TodoComponent_Factory(t) {\n  return new (t || TodoComponent)(i0.ɵɵdirectiveInject(i1.TodoService));\n};\n\nTodoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TodoComponent,\n  selectors: [[\"app-todo\"]],\n  inputs: {\n    todo: \"todo\"\n  },\n  outputs: {\n    deleteAction: \"deleteAction\"\n  },\n  decls: 15,\n  vars: 6,\n  consts: [[1, \"todo-card\"], [3, \"click\"]],\n  template: function TodoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"p\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\");\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\");\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"p\");\n      i0.ɵɵtext(10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"p\");\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function TodoComponent_Template_button_click_13_listener() {\n        return ctx.delete();\n      });\n      i0.ɵɵtext(14, \"Delete\");\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.todo.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.todo.status);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.todo.description);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"estimated time needed: \", ctx.todo.estimatedTimeInSeconds ? ctx.todo.estimatedTimeInSeconds / 60 + \"min\" : \"-\", \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"has to be done before: \", ctx.getFormattedDate(ctx.todo.deadline), \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"created: \", ctx.getFormattedDate(ctx.todo.creationDate), \"\");\n    }\n  },\n  styles: [\".todo-card[_ngcontent-%COMP%] {\\n  background-color: darkgrey;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvZG8uY29tcG9uZW50LnNhc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQywwQkFBQTtBQUNEIiwiZmlsZSI6InRvZG8uY29tcG9uZW50LnNhc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudG9kby1jYXJkXG4gYmFja2dyb3VuZC1jb2xvcjogZGFya2dyZXlcbiJdfQ== */\"]\n});","map":{"version":3,"mappings":";AAAA,SAAmBA,YAAnB,QAA6D,eAA7D;;;AASA,OAAM,MAAOC,aAAP,CAAoB;EAOxBC,YAAoBC,WAApB,EAA4C;IAAxB;IAFpB,oBAAqC,IAAIH,YAAJ,EAArC;EAEiD;;EAEjDI,gBAAgB,CAACC,IAAD,EAAY;IAC1B,IAAIA,IAAJ,EAAU;MACR,OAAO,IAAIC,IAAJ,CAASD,IAAT,EAAeE,cAAf,EAAP;IACD;;IACD,OAAO,GAAP;EACD;;EAEKC,MAAM;IAAA;;IAAA;MACVC,OAAO,CAACC,GAAR,CAAY,KAAI,CAACC,IAAjB;;MACA,IAAG,KAAI,CAACA,IAAL,CAAUC,EAAb,EAAiB;QACf,IAAIC,OAAO,SAAS,KAAI,CAACV,WAAL,CAAiBW,UAAjB,CAA4B,KAAI,CAACH,IAAjC,CAApB;QACAF,OAAO,CAACC,GAAR,CAAYG,OAAZ;;QACA,IAAIA,OAAJ,EAAa;UACX,KAAI,CAACE,YAAL,CAAkBC,IAAlB,CAAuB,KAAI,CAACL,IAAL,CAAUC,EAAjC;QACD;MACF;IARS;EASX;;AAzBuB;;;mBAAbX,eAAagB;AAAA;;;QAAbhB;EAAaiB;EAAAC;IAAAR;EAAA;EAAAS;IAAAL;EAAA;EAAAM;EAAAC;EAAAC;EAAAC;IAAA;MCT1BP,+BAAuB,CAAvB,EAAuB,IAAvB;MACMA;MAAcA;MAClBA;MAAGA;MAAeA;MAClBA;MAAGA;MAAoBA;MACvBA;MAAGA;MAAiGA;MACpGA;MAAGA;MAA0DA;MAC7DA;MAAGA;MAAgDA;MACnDA;MAAQA;QAAA,OAASQ,YAAT;MAAiB,CAAjB;MAAmBR;MAAMA;;;;MAN7BA;MAAAA;MACDA;MAAAA;MACAA;MAAAA;MACAA;MAAAA;MACAA;MAAAA;MACAA;MAAAA","names":["EventEmitter","TodoComponent","constructor","todoService","getFormattedDate","date","Date","toLocaleString","delete","console","log","todo","id","deleted","deleteTodo","deleteAction","emit","i0","selectors","inputs","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/benter/Entwicklung/workspace/todoApp/frontend/src/app/modules/todo/todo.component.ts","/home/benter/Entwicklung/workspace/todoApp/frontend/src/app/modules/todo/todo.component.html"],"sourcesContent":["import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {Todo} from \"../../model/todo\";\nimport {TodoService} from \"../../service/todo.service\";\n\n@Component({\n  selector: 'app-todo',\n  templateUrl: './todo.component.html',\n  styleUrls: ['./todo.component.sass']\n})\nexport class TodoComponent {\n  @Input()\n  todo!: Todo;\n\n  @Output()\n  deleteAction: EventEmitter<number> = new EventEmitter()\n\n  constructor(private todoService: TodoService) { }\n\n  getFormattedDate(date?: Date) {\n    if (date) {\n      return new Date(date).toLocaleString()\n    }\n    return '-'\n  }\n\n  async delete(){\n    console.log(this.todo)\n    if(this.todo.id) {\n      let deleted = await this.todoService.deleteTodo(this.todo);\n      console.log(deleted)\n      if (deleted) {\n        this.deleteAction.emit(this.todo.id)\n      }\n    }\n  }\n}\n","<div class=\"todo-card\">\n  <h4>{{todo.title}}</h4>\n  <p>{{todo.status}}</p>\n  <p>{{todo.description}}</p>\n  <p>estimated time needed: {{todo.estimatedTimeInSeconds? todo.estimatedTimeInSeconds/60+'min' :'-'}}</p>\n  <p>has to be done before: {{getFormattedDate(todo.deadline)}}</p>\n  <p>created: {{getFormattedDate(todo.creationDate)}}</p>\n  <button (click)=\"delete()\">Delete</button>\n</div>\n"]},"metadata":{},"sourceType":"module"}